{% extends "base.html" %}

{% block title %}{% if category %}Редактирование категории FAQ{% else %}Создание категории FAQ{% endif %} - Админ-панель{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <h1>{% if category %}Редактирование категории FAQ{% else %}Создание новой категории FAQ{% endif %}</h1>
        <a href="{{ url_for('admin_faq') }}#categories" class="btn btn-secondary">← Назад</a>
    </div>
    
    <div class="form-container">
        <form method="POST">
            <div class="form-group">
                <label for="name">Имя категории (латиница):</label>
                <input type="text" id="name" name="name" required 
                       value="{{ category.name if category else '' }}"
                       placeholder="general, events, profile..."
                       pattern="[a-z0-9_-]+"
                       class="form-input"
                       {% if category %}readonly{% endif %}>
                <small>Только латинские буквы, цифры, дефисы и подчеркивания. Используется в коде.</small>
            </div>
            
            <div class="form-group">
                <label for="display_name">Отображаемое имя:</label>
                <input type="text" id="display_name" name="display_name" required 
                       value="{{ category.display_name if category else '' }}"
                       placeholder="Общие вопросы"
                       class="form-input">
                <small>Имя, которое будет отображаться пользователям</small>
            </div>
            
            <div class="form-group">
                <label for="description">Описание:</label>
                <textarea id="description" name="description" rows="3" 
                          placeholder="Краткое описание категории"
                          class="form-textarea">{{ category.description if category else '' }}</textarea>
                <small>Необязательное поле. Описание категории для администраторов</small>
            </div>
            
            <div class="form-group">
                <label for="sort_order">Порядок сортировки:</label>
                <input type="number" id="sort_order" name="sort_order" 
                       value="{{ category.sort_order if category else '100' }}"
                       min="0" step="1"
                       class="form-input">
                <small>Чем меньше число, тем выше категория в списке</small>
            </div>
            
            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                    <input type="checkbox" name="is_active" value="1" 
                           {% if not category or category.is_active %}checked{% endif %}>
                    <span>Активна (видна на сайте)</span>
                </label>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    {% if category %}Сохранить изменения{% else %}Создать категорию{% endif %}
                </button>
                <a href="{{ url_for('admin_faq') }}#categories" class="btn btn-secondary">Отмена</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}

