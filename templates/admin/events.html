{% extends "base.html" %}

{% block title %}–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <h1>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h1>
        <a href="{{ url_for('admin_event_create') }}" class="btn btn-primary" title="–°–æ–∑–¥–∞—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ">
            <span style="font-size: 1.2em;">‚ûï</span>
        </a>
    </div>
    
    {% if events %}
    <div class="table-container">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    <th>–≠—Ç–∞–ø–æ–≤</th>
                    <th>–°–æ–∑–¥–∞–Ω–æ</th>
                    <th>–°–æ–∑–¥–∞—Ç–µ–ª—å</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for event in events %}
                <tr>
                    <td data-label="–ù–∞–∑–≤–∞–Ω–∏–µ">
                        <strong>{{ event.name }}</strong>
                    </td>
                    <td data-label="–û–ø–∏—Å–∞–Ω–∏–µ">
                        {{ event.description or '‚Äî' }}
                    </td>
                    <td data-label="–≠—Ç–∞–ø–æ–≤">
                        {{ event.stages_count or 0 }}
                    </td>
                    <td data-label="–°–æ–∑–¥–∞–Ω–æ">
                        {{ event.created_at }}
                    </td>
                    <td data-label="–°–æ–∑–¥–∞—Ç–µ–ª—å">
                        {{ event.creator_name or '–°–∏—Å—Ç–µ–º–∞' }}
                    </td>
                    <td data-label="–î–µ–π—Å—Ç–≤–∏—è">
                        <div class="action-buttons">
                            <a href="{{ url_for('admin_event_view', event_id=event.id) }}" class="btn btn-sm btn-secondary" title="–ü—Ä–æ—Å–º–æ—Ç—Ä">
                                <span style="font-size: 1.2em;">üëÅÔ∏è</span>
                            </a>
                            <a href="{{ url_for('admin_event_edit', event_id=event.id) }}" class="btn btn-sm btn-primary" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                                <span style="font-size: 1.2em;">‚úèÔ∏è</span>
                            </a>
                            <form method="POST" action="{{ url_for('admin_event_delete', event_id=event.id) }}" style="display: inline;" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ?');">
                                <button type="submit" class="btn btn-sm btn-danger" title="–£–¥–∞–ª–∏—Ç—å">
                                    <span style="font-size: 1.2em;">üóëÔ∏è</span>
                                </button>
                            </form>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="empty-state">
        <p>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã</p>
        <a href="{{ url_for('admin_event_create') }}" class="btn btn-primary" title="–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ">
            <span style="font-size: 1.2em;">‚ûï</span>
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}

